
<div
  dndDropzone
  (dndDrop)="onDrop($event)"
  class="flex flex-col gap-5 p-4 swim-lane xl:p-6">
  <div class="flex items-center justify-between mb-1">
    <h3 class="flex items-center gap-3 text-base font-medium text-gray-800 dark:text-white/90">
      {{ title }}
      <span class="inline-flex rounded-full px-2 py-0.5 text-theme-xs font-medium"
            [ngClass]="getStatusStyles()">
        {{ tasks.length }}
      </span>
    </h3>
    <div class="relative">
      <button (click)="toggleDropdown()" class="dropdown-toggle">
        <svg class="text-gray-400 hover:text-gray-700 size-6 dark:hover:text-gray-300" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z" fill="currentColor"/>
          <path d="M12 6C12.5523 6 13 5.55228 13 5C13 4.44772 12.5523 4 12 4C11.4477 4 11 4.44772 11 5C11 5.55228 11.4477 6 12 6Z" fill="currentColor"/>
          <path d="M12 20C12.5523 20 13 19.5523 13 19C13 18.4477 12.5523 18 12 18C11.4477 18 11 18.4477 11 19C11 19.5523 11.4477 20 12 20Z" fill="currentColor"/>
        </svg>
      </button>
      @if (isOpen) {
      <div class="absolute right-0 top-full z-40 w-[140px] space-y-1 rounded-2xl border border-gray-200 bg-white p-2 shadow-theme-md dark:border-gray-800 dark:bg-gray-dark">
        <button (click)="onDropdownItemClick('Edit')" class="flex w-full font-normal text-left text-gray-500 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300">Edit</button>
        <button (click)="onDropdownItemClick('Delete')" class="flex w-full font-normal text-left text-gray-500 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300">Delete</button>
        <button (click)="onDropdownItemClick('Clear All')" class="flex w-full font-normal text-left text-gray-500 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:text-gray-400 dark:hover:bg-white/5 dark:hover:text-gray-300">Clear All</button>
      </div>
      }
    </div>
  </div>
  @for (task of tasks; track $index; let i = $index) {
  <app-kanban-task-item
    [task]="task"
    [index]="i"
  ></app-kanban-task-item>
  }
</div>