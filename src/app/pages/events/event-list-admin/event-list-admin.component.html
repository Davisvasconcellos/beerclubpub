<div>
  <h3 class="font-medium text-black dark:text-white">{{ 'events.admin.list.title' | translate }}</h3>
  <div class="flex justify-end mb-4">
    <button (click)="openAddEventModal()" class="inline-flex items-center gap-2 px-4 py-3 text-sm font-medium rounded-lg shadow-theme-xs bg-blue-500 text-white hover:bg-blue-600">
      {{ 'events.admin.list.addButton' | translate }}
    </button>
  </div>
  <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4">
    <ng-container *ngIf="!isLoading && events.length > 0; else loadingOrEmpty">
      <app-event-card
        *ngFor="let event of events"
        [eventName]="event.eventName"
        [description]="event.description"
        [startDate]="event.startDate"
        [endDate]="event.endDate"
        [image]="event.image || ''"
        [links]="event.links"
        (viewLinks)="openLinksModal(event)"
        (editEvent)="onEditEvent(event)"
      ></app-event-card>
    </ng-container>
  </div>

  <ng-template #loadingOrEmpty>
    <div class="col-span-4 flex flex-col items-center justify-center py-10">
      <div *ngIf="isLoading" class="text-gray-500 dark:text-white/70">Carregando eventos...</div>
      <div *ngIf="!isLoading && loadError" class="text-red-600 dark:text-red-400">{{ loadError }}</div>
      <div *ngIf="!isLoading && !loadError" class="text-gray-500 dark:text-white/70">Nenhum evento encontrado.</div>
    </div>
  </ng-template>

  <app-event-links-modal
    [isOpen]="isModalOpen"
    [eventLinks]="selectedEventLinks"
    (close)="closeLinksModal()"
  ></app-event-links-modal>

  <app-add-event-modal
    [isOpen]="isAddEventModalOpen"
    (close)="closeAddEventModal()"
    (saveEvent)="onSaveNewEvent($event)"
  ></app-add-event-modal>
</div>
